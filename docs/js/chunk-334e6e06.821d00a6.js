(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-334e6e06"],{"237e":function(e,t,a){"use strict";a.r(t);var n=a("7a23"),c=Object(n["I"])("data-v-67c2988f");Object(n["u"])("data-v-67c2988f");var l={class:"cinema_b"},i={class:"cinema_body"},u={class:"pullDown"},o={class:"q"},s={class:"price"},r=Object(n["h"])(" 元起"),d={class:"address"},b={class:"card"},v={key:0};Object(n["s"])();var j=c((function(e,t,a,j,O,f){var y=Object(n["z"])("Loading"),h=Object(n["z"])("Scroller");return Object(n["r"])(),Object(n["e"])("div",l,[Object(n["i"])("div",i,[O.isLoading?(Object(n["r"])(),Object(n["e"])(y,{key:0})):Object(n["f"])("",!0),Object(n["i"])(h,{handleToScroll:f.handleToScroll,handleToTouchEnd:f.handleToTouchEnd},{default:c((function(){return[Object(n["i"])("ul",null,[Object(n["i"])("li",u,[Object(n["i"])("p",null,Object(n["C"])(O.pullDownMsg),1)]),(Object(n["r"])(!0),Object(n["e"])(n["a"],null,Object(n["x"])(O.cinemaList,(function(e){return Object(n["r"])(),Object(n["e"])("li",{key:e.id,onTap:t[1]||(t[1]=function(){return f.handleToDetail&&f.handleToDetail.apply(f,arguments)})},[Object(n["i"])("div",null,[Object(n["i"])("span",null,Object(n["C"])(e.nm),1),Object(n["i"])("span",o,[Object(n["i"])("span",s,Object(n["C"])(e.sellPrice),1),r])]),Object(n["i"])("div",d,[Object(n["i"])("span",null,Object(n["C"])(e.addr),1),Object(n["i"])("span",null,Object(n["C"])(e.distance),1)]),Object(n["i"])("div",b,[(Object(n["r"])(!0),Object(n["e"])(n["a"],null,Object(n["x"])(e.tag,(function(e,t){return Object(n["r"])(),Object(n["e"])("div",{key:t,class:f.classCard(t)},[1===e||"vipTag"===t?(Object(n["r"])(),Object(n["e"])("div",v,Object(n["C"])(f.formatCard(t)),1)):Object(n["f"])("",!0)],2)})),128))])],32)})),128))])]})),_:1},8,["handleToScroll","handleToTouchEnd"])])])})),O={name:"CiList",data:function(){return{cinemaList:[],pullDownMsg:"",isLoading:!0,prevCityId:-1}},activated:function(){var e=this,t=this.$store.state.city.id;this.prevCityId!==t&&(this.isLoading=!0,this.$axios.get("/api/cinemaList?cityId="+t).then((function(a){var n=a.data.msg;"ok"===n&&(e.cinemaList=a.data.data.cinemas,e.isLoading=!1,e.prevCityId=t)})))},methods:{handleToDetail:function(){console.log("handleToDetail")},handleToScroll:function(e){e.y>30&&(this.pullDownMsg="正在更新中")},handleToTouchEnd:function(e){var t=this;e.y>30&&this.$axios.get("/api/cinemaList?cityId=10").then((function(e){var a=e.data.msg;"ok"===a&&(t.pullDownMsg="更新成功",setTimeout((function(){t.cinemaList=e.data.data.cinemas,t.pullDownMsg=""}),1e3))}))}},computed:{formatCard:function(){return function(e){for(var t=[{key:"allowRefund",value:"允许退款"},{key:"buyout",value:"购票"},{key:"cityCardTag",value:"城市卡"},{key:"deal",value:"交易"},{key:"endorse",value:"转让"},{key:"sell",value:"出售"},{key:"snack",value:"小吃"},{key:"vipTag",value:"折扣卡"}],a=0;a<t.length;a++)if(t[a].key===e)return t[a].value;return""}},classCard:function(){return function(e){for(var t=[{key:"allowRefund",value:"bl"},{key:"buyout",value:"bl"},{key:"cityCardTag",value:"bl"},{key:"deal",value:"bl"},{key:"endorse",value:"bl"},{key:"sell",value:"bl"},{key:"snack",value:"or"},{key:"vipTag",value:"or"}],a=0;a<t.length;a++)if(t[a].key===e)return t[a].value;return""}}}};a("7bee");O.render=j,O.__scopeId="data-v-67c2988f";t["default"]=O},"7bee":function(e,t,a){"use strict";a("f5cb")},f5cb:function(e,t,a){}}]);
//# sourceMappingURL=chunk-334e6e06.821d00a6.js.map